<script>
    import Footer from "./Footer.svelte";

    const TODOIST_CLIENT_ID = process.env.TODOIST_CLIENT_ID;
    let todoistAuthURL = `https://todoist.com/oauth/authorize?client_id=${TODOIST_CLIENT_ID}&scope=data:read_write&state=${crypto.randomUUID()}`;

    function getTodoistLogo() {
        return `
            <img
                alt="Todoist logo"
                src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNTYgMjU2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4KICAgIDxnPgoJCQkJPHBhdGggZD0iTTIyNC4wMDE5OTcsMCBMMzEuOTk4MDAyNiwwIEMxNC4zNTc5MzgxLDAuMDM5NDk2NDQ0MyAwLjA2MTQ4MDk0MTgsMTQuMzM2ODQ2IDAsMzIgTDAsMjI0IEMwLDI0MS42IDE0LjM5NzEwMzgsMjU2IDMxLjk5ODAwMjYsMjU2IEwyMjQuMDAxOTk3LDI1NiBDMjQxLjYwMjg5NiwyNTYgMjU2LDI0MS42IDI1NiwyMjQgTDI1NiwzMiBDMjU2LDE0LjQgMjQxLjYwMjg5NiwwIDIyNC4wMDE5OTcsMCIgZmlsbD0iI0U0NDMzMiI+Cg08L3BhdGg+CgkJCQk8cGF0aCBkPSJNNTQuMTMyNzc4LDEyMC44MDI0OTEgQzU4LjU5NjAyMjQsMTE4LjE5NjI3NSAxNTQuNDc2MDc1LDYyLjQ3NzQ1MSAxNTYuNjY3ODQ3LDYxLjE4NjI5ODEgQzE1OC44NTk2MTksNTkuOTExMDg1NSAxNTguOTc5MTcsNTUuOTg5ODA2NSAxNTYuNTA4NDQ2LDU0LjU3MTEzMjQgQzE1NC4wNTM2NjEsNTMuMTYwNDI4NCAxNDkuMzkxMTY1LDUwLjQ4MjQ4MTcgMTQ3LjY2MTY1OCw0OS40NTQzNDE1IEMxNDUuMTkyMjQyLDQ4LjA5NTc3MDcgMTQyLjE5MTE2OSw0OC4xMzIwNzQgMTM5Ljc1NTMzOSw0OS41NDk5ODI1IEMxMzguNTI3OTQ3LDUwLjI2NzI4OTYgNTYuNjAzNTAyNiw5Ny44NDg2NjI1IDUzLjg2OTc2NTQsOTkuNDEwNzk4MSBDNTAuNTc4MTIyNywxMDEuMjkxNzM3IDQ2LjUzNzI5MjUsMTAxLjMyMzYxNyA0My4yNjk1NjAxLDk5LjQxMDc5ODEgTDAsNzQuMDE4MTI1NyBMMCw5NS42MDExMDAyIEMxMC41MjA1MDQ2LDEwMS44MDE4MjIgMzYuNzE4MTU0OSwxMTcuMjAwMDE1IDQzLjA2MjMzOCwxMjAuODI2NDAxIEM0Ni44NDgxMjU2LDEyMi45NzgzMjIgNTAuNDc0NTExNywxMjIuOTMwNTAyIDU0LjE0MDc0ODEsMTIwLjgwMjQ5MSIgZmlsbD0iI0ZGRkZGRiI+Cg08L3BhdGg+CgkJCQk8cGF0aCBkPSJNNTQuMTMyNzc4LDE2MS42MDkyOTYgQzU4LjU5NjAyMjQsMTU5LjAwMzA4IDE1NC40NzYwNzUsMTAzLjI4NDI1NyAxNTYuNjY3ODQ3LDEwMS45OTMxMDQgQzE1OC44NTk2MTksMTAwLjcxNzg5MSAxNTguOTc5MTcsOTYuNzk2NjEyMSAxNTYuNTA4NDQ2LDk1LjM3NzkzOCBDMTU0LjA1MzY2MSw5My45NjcyMzM5IDE0OS4zOTExNjUsOTEuMjg5Mjg3MyAxNDcuNjYxNjU4LDkwLjI2MTE0NzEgQzE0NS4xOTIyNDIsODguOTAyNTc2MyAxNDIuMTkxMTY5LDg4LjkzODg3OTYgMTM5Ljc1NTMzOSw5MC4zNTY3ODgxIEMxMzguNTI3OTQ3LDkxLjA3NDA5NTIgNTYuNjAzNTAyNiwxMzguNjU1NDY4IDUzLjg2OTc2NTQsMTQwLjIxNzYwNCBDNTAuNTc4MTIyNywxNDIuMDk4NTQyIDQ2LjUzNzI5MjUsMTQyLjEzMDQyMyA0My4yNjk1NjAxLDE0MC4yMTc2MDQgTDAsMTE0LjgyNDkzMSBMMCwxMzYuNDA3OTA2IEMxMC41MjA1MDQ2LDE0Mi42MDg2MjcgMzYuNzE4MTU0OSwxNTguMDA2ODIgNDMuMDYyMzM4LDE2MS42MzMyMDYgQzQ2Ljg0ODEyNTYsMTYzLjc4NTEyOCA1MC40NzQ1MTE3LDE2My43MzczMDcgNTQuMTQwNzQ4MSwxNjEuNjA5Mjk2IiBmaWxsPSIjRkZGRkZGIj4KDTwvcGF0aD4KCQkJCTxwYXRoIGQ9Ik01NC4xMzI3NzgsMjA0Ljk2NjUyNyBDNTguNTk2MDIyNCwyMDIuMzYwMzExIDE1NC40NzYwNzUsMTQ2LjY0MTQ4NyAxNTYuNjY3ODQ3LDE0NS4zNTAzMzUgQzE1OC44NTk2MTksMTQ0LjA3NTEyMiAxNTguOTc5MTcsMTQwLjE1Mzg0MyAxNTYuNTA4NDQ2LDEzOC43MzUxNjkgQzE1NC4wNTM2NjEsMTM3LjMyNDQ2NSAxNDkuMzkxMTY1LDEzNC42NDY1MTggMTQ3LjY2MTY1OCwxMzMuNjE4Mzc4IEMxNDUuMTkyMjQyLDEzMi4yNTk4MDcgMTQyLjE5MTE2OSwxMzIuMjk2MTEgMTM5Ljc1NTMzOSwxMzMuNzE0MDE5IEMxMzguNTI3OTQ3LDEzNC40MzEzMjYgNTYuNjAzNTAyNiwxODIuMDEyNjk5IDUzLjg2OTc2NTQsMTgzLjU3NDgzNSBDNTAuNTc4MTIyNywxODUuNDU1NzczIDQ2LjUzNzI5MjUsMTg1LjQ4NzY1NCA0My4yNjk1NjAxLDE4My41NzQ4MzUgTDAsMTU4LjE4MjE2MiBMMCwxNzkuNzY1MTM3IEMxMC41MjA1MDQ2LDE4NS45NjU4NTggMzYuNzE4MTU0OSwyMDEuMzY0MDUxIDQzLjA2MjMzOCwyMDQuOTkwNDM3IEM0Ni44NDgxMjU2LDIwNy4xNDIzNTkgNTAuNDc0NTExNywyMDcuMDk0NTM4IDU0LjE0MDc0ODEsMjA0Ljk2NjUyNyIgZmlsbD0iI0ZGRkZGRiI+Cg08L3BhdGg+CgkJPC9nPgo8L3N2Zz4="
                style="max-height: 55%;"
            />
        `;
    }
</script>

<div class="hero py-6 md:py-20" id="landing">
    <div class="hero-content text-center">
        <div class="max-w-lg" aria-label="Quick Explanation">
            <h1 class="text-5xl font-bold">One Task at a Time</h1>
            <p class="py-6">
                Ist is a micro-app that reads your task list from Todoist and displays the most
                important task that can currently be worked on.
            </p>
            <div>
                <a class="btn btn-outline btn-primary items-center text-lg" href={todoistAuthURL}>
                    {@html getTodoistLogo()}
                    <p class="pb-1">Continue with Todoist</p>
                </a>
            </div>
        </div>
    </div>
</div>
<div class="absolute bottom-0 w-[99%]">
    <Footer />
</div>
